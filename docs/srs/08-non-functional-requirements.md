# 8 Оценка нефункциональных требований

## Масштабируемость
- Система должна поддерживать горизонтальное масштабирование backend-серверов без потери консистентности бизнес-логики.
- Все серверы работают с единой централизованной базой данных (например, PostgreSQL).
- Обработка одновременных тапов от десятков тысяч пользователей обеспечивается транзакциями на уровне БД.
- Введение rate-limiting на уровне API для защиты от чрезмерных/непредусмотренных нагрузок.

## Безопасность: аутентификация и авторизация
- Все действия пользователя (тапы, просмотр статистики, создание раундов) возможны только после аутентификации (например, через JWT или OAuth2-токен).
- У администраторов отдельная роль с повышенными правами, реализуются отдельные эндпоинты (например, для запуска и завершения раундов).
- Неавторизованные пользователи получают доступ только к публичным данным или получают отказ.
- Межсерверные взаимодействия (если есть) защищены служебными ключами и шифрованием.
- Все пароли/секреты хранятся в зашифрованном виде.

## Перфоманс
- Система должна обеспечивать среднее время отклика API < 150мс при стандартной нагрузке.
- При внезапных всплесках (“атаках тапов”) не должно быть потери данных или дублирования очков.
- Поддерживается возможность асинхронной обработки второстепенных задач (логирование, метрики и т.д.)
- Все ключевые операции защищены от гонок (race-condition) через транзакции БД или распределённые блокировки.

## Логирование и отслеживаемость ошибок
- Все критичные операции (тапы, старты и стопы раундов, ошибки) логируются с деталями:
    - id пользователя, метка времени, тип события, детали запроса/ответа.
- Система ведёт отдельные журналы ошибок для быстрого поиска и устранения багов.
- Для анализа инцидентов поддерживаются сбор метрик и интеграции с системами мониторинга (Prometheus, Sentry).
- В случае критических сбоев уведомления отправляются администраторам (email, мессенджеры и т.д.).
