## 1. Анализ требований (Requirements Analysis)
- Провести анализ и уточнение требований заказчика.
- Зафиксировать бизнес-правила (например, особые правила для "Никиты", очки за каждый 11-й тап и пр.).
- Подготовить уточненные спецификации API, структуры данных, модели пользователей и сценарии использования.
- Сформировать Definition of Done для ключевых фич.
- Уточнить нефункциональные требования: горизонтальная масштабируемость, необходимость поддержки нескольких инстансов backend, нагрузка, требования к чистоте кода.

## 2. Проектирование (System Design)
#### Архитектурные решения:
- Микросервисная или монолитная структура backend (с учетом масштабируемости).
- Выбор стека:
    - Backend: Node.js, TypeScript (strict), Postgres, Prisma (рекомендуется для строгой типизации и удобной миграционной поддержки).
    - API Framework: NestJS (структура приложения под масштабирование и тестируемость).
    - Frontend: React, TypeScript, Vite, react-router, выбранная UI-библиотека (например, MUI), выбранный state manager (например, Zustand или Redux Toolkit).
- Схема безопасности и аутентификации: JWT (в cookie HTTP-Only).
- Выбор стратегий синхронизации и консистентности данных (например, использование транзакций и row-level locking для обработчиков тапов).
- Моделирование ER-диаграммы: Users, Rounds, Taps/Results.
- Документирование REST API (OpenAPI/Swagger).

#### Диаграммы:
- ER-диаграммы БД.
- Диаграммы компонент приложения.
- Базовые sequence diagrams для критичных API (тап, старт раунда).

## 3. Детализация требований и Mockup Review (Refinement)
- Обсудить и согласовать мокапы интерфейса.
- Уточнить поведение элементов UI/UX.
- Проработать пользовательские сценарии: создание аккаунта, вход, старт раунда, тап, финализация, просмотр статистики.

## 4. Реализация (Implementation)
#### Backend:
- Создание структуры репозитория, настройка линтеров, форматтеров и конфигураций.
- Реализация моделей и миграций БД.
- Реализация сервисов:
    - User Service: регистрация, аутентификация, назначение ролей.
    - Round Service: создание, статусы, расчет окон времени.
    - Tap Service: обработка тапов через транзакции; выполнение проверки ролей и времени.
- Реализация REST API согласно спецификации.
- Настройка конфигов и переменных окружения для duration/cooldown.
- Реализация обработки ошибок и логирования.

#### Frontend:
- Структуризация проекта и настройка инструментов качества (ESLint, Prettier).
- Реализация страниц:
    - Страница логина (с валидацией и обработкой ошибок).
    - Список раундов (активные/ожидаемые, создание для админа).
    - Детализация раунда (статусы, гусь с тапами, таймеры, видимость элементов).
- Интеграция с API, отображение состояния (loading, success, error).
- Покрытие всех пользовательских сценариев.
- Респонсивность и простота дизайна.

## 5. Тестирование (Testing & QA)
- Реализация авто-тестов на backend (unit, integration - на сервисы, e2e - на ключевые API).
- Реализация тестов на frontend (unit на компоненты, e2e с помощью Cypress или Playwright).
- Проведение ручного тестирования по чек-листу пользовательских сценариев.
- Тестирование корректности начисления очков, особенностей игры за "Никиту", создания и завершения раундов.
- Проверка консистентности данных при конкурентных запросах (нагрузочное тестирование на тап, таблицы лидеров).
- Тестирование горизонтального масштабирования (смоделировать многократные ровнопараллельные запросы).

## 6. Поддержка и развертывание (Deployment & Support)
- Документирование шагов для запуска (README, конфиги, env).
- Настройка сборки backend (tsc, сборка и запуск node dist/index.js).
- Проверка работы с одной общей базой и несколькими backend-инстансами.
- Описывать best practices развертывания (например, отказоустойчивость reverse proxy, переменные окружения).
- Продумать логирование для мониторинга и отладки.

## 7. Поддержка и сопровождение (Maintenance)
- Документировать архитектуру, API и основные сценарии использования.
- Обеспечить процесс повторной инициализации/миграций БД для поддержки будущих изменений.
- Подготовить инструкции для оплаты багов и доработок.

### Краткая анкета этапов SDLC (для менеджерского отчета)

| Этап            | Основные активности                                                                                          | Артефакты/результаты                       |
|-----------------|------------------------------------------------------------------------------------------------------------|--------------------------------------------|
| Анализ          | Формализация ТЗ, уточнение нефункциональных требований                                                      | ТЗ, User Stories, Acceptance Criteria      |
| Проектирование  | Архитектура, модели, ER-диаграммы, выбор инструментов                                                      | Архитектурные схемы, спецификации API      |
| Детализация     | Согласование мокапов и сценариев UI/UX                                                                     | Mockups, UI/UX Specification               |
| Реализация      | Backend, Frontend, функциональность, интеграция                                                            | Репозиторий с исходным кодом               |
| Тестирование    | Unit, интеграционные, e2e тесты, чек-листы ручного тестирования                                            | Наборы тестов, отчеты о покрытии           |
| Развертывание   | Сборка, деплой, настройка окружения, документация по развёртыванию и запуску                               | Инструкции, документация, рабочий билд     |
| Поддержка       | Документация, устранение ошибок, инструкции по развитию и поддержке                                        | Документация, планы изменений              |
